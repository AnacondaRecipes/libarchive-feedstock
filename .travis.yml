# This file was generated automatically from conda-smithy. To update this configuration,
# update the conda-forge.yaml and/or the recipe/meta.yaml.

language: objective-c

env:
  global:
    # The BINSTAR_TOKEN secure variable. This is defined canonically in conda-forge.yml.
    - secure: "NLBTJ699deFVK01o18H/70OFtDTuUQ9ziqp06545xqnjh9YlrwPHZhsdIHvb1+jDERxltjEnvC00xT5QyZA2Spdgt0JXT9HSpSh3itGZZb7a6fvEQUIsKKuk1T0dCil96Z2zOxur87iRld03MG5bR8sxSMaqnmzZoDDQgOH6sRH+CuJkd2kc2a5BqD1/sLZ4Lhu48pwJC13SkXuBq//nQRS95te+BK9fa2ls1uqUAJjCH9ItLhWW8jQhyMs5BFaOrIgavKvVB7fGRwGGp2YhJ9wzgcgb/9wx2Bj1N3p16SKVAmHj5xn1+naQQSw06oHvqT+6SBs0b4HtmNyw1sgLFeADUdJswo6aMUJiF2FhO7d6EMaP0I8Z+islPzSFqvZMrcpkXhhW6hCJKVMHQCXgzp7lPctYKOSMCPonVFmebKQo65hRpd/N9GLcmCgZ7lfDKMV2s6zJt1yGfjEzb/wlF1pnallykp0xUVFdlshFSzRY5LRPJ4QQctNSWvbzHQhF4nx72jnpt0EGx61H5+cJb77RpAIZkaF4CfibNxbixnKYMXPeub5ILSfY1JaF5n7PcPS552iqaMfGPzKmQGYhwqCFQSQ4zBUO484a7XGmWbEcMjMDb+J66oLCXK2s/dRwKhAZvufzs1ZpJ5vlanc52L9ms/eHh2PjhcoRb9QdZCQ="


before_install:
    # Remove homebrew.
    - brew remove --force $(brew list)
    - brew cleanup -s
    - rm -rf $(brew --cache)

install:
    - |
      MINICONDA_URL="http://repo.continuum.io/miniconda"
      MINICONDA_FILE="Miniconda3-latest-MacOSX-x86_64.sh"
      curl -O "${MINICONDA_URL}/${MINICONDA_FILE}"
      bash $MINICONDA_FILE -b

      export PATH=/Users/travis/miniconda3/bin:$PATH

      conda config --set show_channel_urls true
      conda update --yes conda
      conda install --yes conda-build=1.20.0 jinja2 anaconda-client
      conda config --add channels conda-forge
      

script:
  - conda build ./recipe

after_success:

  - ./ci_support/upload_or_check_non_existence.py ./recipe conda-forge --channel=main
